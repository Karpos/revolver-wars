<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>pl.utils: Module Index</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h2>LuaDoc</h2>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h2>Modules</h2>
<ul>

	<li>
		<a href="../modules/pl.app.html">pl.app</a>
	</li>

	<li>
		<a href="../modules/pl.array2d.html">pl.array2d</a>
	</li>

	<li>
		<a href="../modules/pl.class.html">pl.class</a>
	</li>

	<li>
		<a href="../modules/pl.classx.html">pl.classx</a>
	</li>

	<li>
		<a href="../modules/pl.config.html">pl.config</a>
	</li>

	<li>
		<a href="../modules/pl.data.html">pl.data</a>
	</li>

	<li>
		<a href="../modules/pl.dir.html">pl.dir</a>
	</li>

	<li>
		<a href="../modules/pl.file.html">pl.file</a>
	</li>

	<li>
		<a href="../modules/pl.func.html">pl.func</a>
	</li>

	<li>
		<a href="../modules/pl.input.html">pl.input</a>
	</li>

	<li>
		<a href="../modules/pl.lapp.html">pl.lapp</a>
	</li>

	<li>
		<a href="../modules/pl.lexer.html">pl.lexer</a>
	</li>

	<li>
		<a href="../modules/pl.list.html">pl.list</a>
	</li>

	<li>
		<a href="../modules/pl.operator.html">pl.operator</a>
	</li>

	<li>
		<a href="../modules/pl.path.html">pl.path</a>
	</li>

	<li>
		<a href="../modules/pl.permute.html">pl.permute</a>
	</li>

	<li>
		<a href="../modules/pl.pretty.html">pl.pretty</a>
	</li>

	<li>
		<a href="../modules/pl.seq.html">pl.seq</a>
	</li>

	<li>
		<a href="../modules/pl.sip.html">pl.sip</a>
	</li>

	<li>
		<a href="../modules/pl.stringio.html">pl.stringio</a>
	</li>

	<li>
		<a href="../modules/pl.stringx.html">pl.stringx</a>
	</li>

	<li>
		<a href="../modules/pl.tablex.html">pl.tablex</a>
	</li>

	<li>
		<a href="../modules/pl.test.html">pl.test</a>
	</li>

	<li>
		<a href="../modules/pl.text.html">pl.text</a>
	</li>

	<li><strong>pl.utils</strong></li>
	
</ul>



<!-- File list -->






</div><!-- id="navigation" -->

<div id="content">

<h1>Module "pl.utils"</h1>

<p>Generally useful routines.</p>





<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#utils.assert_arg">utils.assert_arg</a>&nbsp;(n, val, tp, verify, msg, lev)</td>
	<td class="summary">assert that the given argument is in fact of the correct type.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.assert_string">utils.assert_string</a>&nbsp;(n, val)</td>
	<td class="summary">assert the common case that the argument is a string.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.bind1">utils.bind1</a>&nbsp;(fn, p)</td>
	<td class="summary">bind the first argument of the function to a value.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.choose">utils.choose</a>&nbsp;(cond, value1, value2)</td>
	<td class="summary">return either of two values, depending on a condition.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.escape">utils.escape</a>&nbsp;(s)</td>
	<td class="summary">escape any 'magic' characters in a string </td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.fprintf">utils.fprintf</a>&nbsp;(f, fmt, ...)</td>
	<td class="summary">write an arbitrary number of arguments to a file using a format.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.function_arg">utils.function_arg</a>&nbsp;(idx, f, msg)</td>
	<td class="summary">process a function argument.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.import">utils.import</a>&nbsp;(t, T)</td>
	<td class="summary">take a table and 'inject' it into the local namespace.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.is_callable">utils.is_callable</a>&nbsp;(obj)</td>
	<td class="summary">is the object either a function or a callable object?.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.is_type">utils.is_type</a>&nbsp;(obj, tp)</td>
	<td class="summary">is the object of the specified type?.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.memoize">utils.memoize</a>&nbsp;(func)</td>
	<td class="summary">'memoize' a function (cache returned value for next call).</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.on_error">utils.on_error</a>&nbsp;(mode)</td>
	<td class="summary">control the error strategy used by Penlight.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.printf">utils.printf</a>&nbsp;(fmt, ...)</td>
	<td class="summary">print an arbitrary number of arguments using a format.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.quit">utils.quit</a>&nbsp;(code, msg, ...)</td>
	<td class="summary">end this program gracefully.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.raise">utils.raise</a>&nbsp;(err)</td>
	<td class="summary">used by Penlight functions to return errors.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.readfile">utils.readfile</a>&nbsp;(filename, is_bin)</td>
	<td class="summary">return the contents of a file as a string </td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.readlines">utils.readlines</a>&nbsp;(filename)</td>
	<td class="summary">return the contents of a file as a list of lines </td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.split">utils.split</a>&nbsp;(s, re)</td>
	<td class="summary">split a string into a list of strings separated by a delimiter.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.splitv">utils.splitv</a>&nbsp;(s, re)</td>
	<td class="summary">split a string into a number of values.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#utils.writefile">utils.writefile</a>&nbsp;(filename, str)</td>
	<td class="summary">write a string to a file </td>
	</tr>

</table>






<br/>
<br/>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="utils.assert_arg"></a><strong>utils.assert_arg</strong>&nbsp;(n, val, tp, verify, msg, lev)</dt>
<dd>
assert that the given argument is in fact of the correct type.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  n: argument index
	</li>
	
	<li>
	  val: the value
	</li>
	
	<li>
	  tp: the type
	</li>
	
	<li>
	  verify: an optional verfication function
	</li>
	
	<li>
	  msg: an optional custom message
	</li>
	
	<li>
	  lev: optional stack position for trace, default 2
	</li>
	
</ul>




<h3>Usage:</h3>
<ul>
	
	<li>assert_arg(1,t,'table')
	
	<li>assert_arg(n,val,'string',path.isdir,'not a directory')
	
</ul>







</dd>




<dt><a name="utils.assert_string"></a><strong>utils.assert_string</strong>&nbsp;(n, val)</dt>
<dd>
assert the common case that the argument is a string.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  n: argument index
	</li>
	
	<li>
	  val: a value that must be a string
	</li>
	
</ul>










</dd>




<dt><a name="utils.bind1"></a><strong>utils.bind1</strong>&nbsp;(fn, p)</dt>
<dd>
bind the first argument of the function to a value.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  fn: a function of at least two values (may be an operator string)
	</li>
	
	<li>
	  p: a value
	</li>
	
</ul>








<h3>Return value:</h3>
a function such that f(x) is fn(p,x)



<h3>See also:</h3>
<ul>
	
	<li><a href="">
		pl.func.curry
	</a>
	
</ul>

</dd>




<dt><a name="utils.choose"></a><strong>utils.choose</strong>&nbsp;(cond, value1, value2)</dt>
<dd>
return either of two values, depending on a condition.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  cond: A condition
	</li>
	
	<li>
	  value1: Value returned if cond is true
	</li>
	
	<li>
	  value2: Value returned if cond is false (can be optional)
	</li>
	
</ul>










</dd>




<dt><a name="utils.escape"></a><strong>utils.escape</strong>&nbsp;(s)</dt>
<dd>
escape any 'magic' characters in a string


<h3>Parameters:</h3>
<ul>
	
	<li>
	  s: The input string
	</li>
	
</ul>










</dd>




<dt><a name="utils.fprintf"></a><strong>utils.fprintf</strong>&nbsp;(f, fmt, ...)</dt>
<dd>
write an arbitrary number of arguments to a file using a format.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  f: 
	</li>
	
	<li>
	  fmt: The format (see string.format)
	</li>
	
	<li>
	  ...: 
	</li>
	
</ul>










</dd>




<dt><a name="utils.function_arg"></a><strong>utils.function_arg</strong>&nbsp;(idx, f, msg)</dt>
<dd>
process a function argument.
This is used throughout Penlight and defines what is meant by a function:
Something that is callable, or an operator string as defined by <code>pl.operator</code>,
such as '>' or '#'.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  idx: argument index
	</li>
	
	<li>
	  f: a function, operator string, or callable object
	</li>
	
	<li>
	  msg: optional error message
	</li>
	
</ul>








<h3>Return value:</h3>
a callable



<h3>See also:</h3>
<ul>
	
	<li><a href="">
		utils.is_callable
	</a>
	
</ul>

</dd>




<dt><a name="utils.import"></a><strong>utils.import</strong>&nbsp;(t, T)</dt>
<dd>
take a table and 'inject' it into the local namespace.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  t: The Table
	</li>
	
	<li>
	  T: An optional destination table (defaults to callers environment)
	</li>
	
</ul>










</dd>




<dt><a name="utils.is_callable"></a><strong>utils.is_callable</strong>&nbsp;(obj)</dt>
<dd>
is the object either a function or a callable object?.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  obj: 
	</li>
	
</ul>










</dd>




<dt><a name="utils.is_type"></a><strong>utils.is_type</strong>&nbsp;(obj, tp)</dt>
<dd>
is the object of the specified type?.
If the type is a string, then use type, otherwise compare with metatable


<h3>Parameters:</h3>
<ul>
	
	<li>
	  obj: an object
	</li>
	
	<li>
	  tp: a type
	</li>
	
</ul>










</dd>




<dt><a name="utils.memoize"></a><strong>utils.memoize</strong>&nbsp;(func)</dt>
<dd>
'memoize' a function (cache returned value for next call).
This is useful if you have a function which is relatively expensive,
but you don't know in advance what values will be required, so
building a table upfront is wasteful/impossible.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  func: a function of at least one argument
	</li>
	
</ul>








<h3>Return value:</h3>
a function with at least one argument, which is used as the key.



</dd>




<dt><a name="utils.on_error"></a><strong>utils.on_error</strong>&nbsp;(mode)</dt>
<dd>
control the error strategy used by Penlight.
Controls how <code>utils.raise</code> works; the default is for it
to return nil and the error string, but if the mode is 'error' then
it will throw an error. If mode is 'quit' it will immediately terminate
the program.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  mode: - either 'default', 'quit'  or 'error'
	</li>
	
</ul>










<h3>See also:</h3>
<ul>
	
	<li><a href="">
		utils.raise
	</a>
	
</ul>

</dd>




<dt><a name="utils.printf"></a><strong>utils.printf</strong>&nbsp;(fmt, ...)</dt>
<dd>
print an arbitrary number of arguments using a format.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  fmt: The format (see string.format)
	</li>
	
	<li>
	  ...: 
	</li>
	
</ul>










</dd>




<dt><a name="utils.quit"></a><strong>utils.quit</strong>&nbsp;(code, msg, ...)</dt>
<dd>
end this program gracefully.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  code: The exit code
	</li>
	
	<li>
	  msg: A message to be printed
	</li>
	
	<li>
	  ...: extra arguments for fprintf
	</li>
	
</ul>










<h3>See also:</h3>
<ul>
	
	<li><a href="">
		utils.fprintf
	</a>
	
</ul>

</dd>




<dt><a name="utils.raise"></a><strong>utils.raise</strong>&nbsp;(err)</dt>
<dd>
used by Penlight functions to return errors.  Its global behaviour is controlled
by <code>utils.on_error</code>


<h3>Parameters:</h3>
<ul>
	
	<li>
	  err: the error string.
	</li>
	
</ul>










<h3>See also:</h3>
<ul>
	
	<li><a href="">
		utils.on_error
	</a>
	
</ul>

</dd>




<dt><a name="utils.readfile"></a><strong>utils.readfile</strong>&nbsp;(filename, is_bin)</dt>
<dd>
return the contents of a file as a string


<h3>Parameters:</h3>
<ul>
	
	<li>
	  filename: The file path
	</li>
	
	<li>
	  is_bin: 
	</li>
	
</ul>








<h3>Return value:</h3>
file contents



</dd>




<dt><a name="utils.readlines"></a><strong>utils.readlines</strong>&nbsp;(filename)</dt>
<dd>
return the contents of a file as a list of lines


<h3>Parameters:</h3>
<ul>
	
	<li>
	  filename: The file path
	</li>
	
</ul>








<h3>Return value:</h3>
file contents as a table



</dd>




<dt><a name="utils.split"></a><strong>utils.split</strong>&nbsp;(s, re)</dt>
<dd>
split a string into a list of strings separated by a delimiter.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  s: The input string
	</li>
	
	<li>
	  re: A regular expression; defaults to spaces
	</li>
	
</ul>








<h3>Return value:</h3>
a list-like table



</dd>




<dt><a name="utils.splitv"></a><strong>utils.splitv</strong>&nbsp;(s, re)</dt>
<dd>
split a string into a number of values.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  s: the string
	</li>
	
	<li>
	  re: the delimiter, default space
	</li>
	
</ul>




<h3>Usage:</h3>
first,next = splitv('jane:doe',':')





<h3>Return value:</h3>
n values



<h3>See also:</h3>
<ul>
	
	<li><a href="">
		split
	</a>
	
</ul>

</dd>




<dt><a name="utils.writefile"></a><strong>utils.writefile</strong>&nbsp;(filename, str)</dt>
<dd>
write a string to a file


<h3>Parameters:</h3>
<ul>
	
	<li>
	  filename: The file path
	</li>
	
	<li>
	  str: The string
	</li>
	
</ul>










</dd>


</dl>






</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
